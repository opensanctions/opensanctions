type: external
title: Wikidata
entry_point: zavod.runner.enrich:enrich
prefix: wd
disabled: false
coverage:
  frequency: daily
  start: 2022-05-26
exports:
  - statistics.json
  - entities.ftm.json
deploy:
  schedule: "1 12 * * *"
  cpu: "2000m"
  memory: "5000Mi"
load_statements: true
ci_test: false
summary: >-
  Wikidata is the structured data project of the Wikipedia community,
  providing fact-based information edited by humans and machines
description: |
  Wikidata serves as the source of much of the OpenSanctions data related to
  politically exposed persons (PEPs). We also link up entities that are
  sanctioned whenever a relevant Wikidata item is available.

  The Wikidata importer will also traverse family and personal relationships
  that are documented in the database and import relatives and close associates
  whereever these are stated.

  ### Limitations

  There is no attempt to link companies and organizations from sanctions lists
  to Wikidata, as the way that an encyclopedia describes such legal entities is
  not granular enough for due diligence use cases.

  We also remove any person born before 1900, or who has died before 2000 from
  the dataset in order to avoid outdated profiles that could lead to false
  positives.
url: https://www.wikidata.org/wiki/Wikidata:Main_Page
publisher:
  name: Wikidata
  description: |
    Wikidata is a free and open knowledge base that can be read and edited by both humans
    and machines. It acts as central storage for the structured data of its Wikimedia
    sister projects including Wikipedia, Wikivoyage, Wiktionary, Wikisource, and others.
  url: https://www.wikidata.org
  official: false
  country: zz

http:
  total_retries: 5
  backoff_factor: 2
  retry_statuses: [413, 429, 503, 500]
  retry_methods:
    - GET
    - POST

inputs:
  - interpol_red_notices
  - peps
  - sanctions
  - special_interest
  - us_fbi_most_wanted
  - us_klepto_hr_visa
  - wanted
  - enforcement
  - wd_categories
  - wd_curated
  - wd_oligarchs
  - wd_peps

config:
  type: nomenklatura.enrich.wikidata:WikidataEnricher
  label_cache_days: 90
  cache_days: 14
  schemata:
    - Person

assertions:
  min:
    schema_entities:
      Person: 330000
  max:
    schema_entities:
      Person: 875000

lookups:
  type.name:
    options:
      - match:
          - "..."
          - "-"
        value: null
      # Remove HTML line breaks and keep first part (usually Latin/English transliteration)
      - match: "Rami Makhlouf <br>رامي مخلوف"
        value: Rami Makhlouf
      - match: "Ahmed Ismail Samatar <br> أحمد إسماعيل سمتر"
        value: Ahmed Ismail Samatar
      - match: "Pir Sabir Shah<br>پير صابر شاہ"
        value: Pir Sabir Shah
      - match: "Fatemeh Karroubi<br />فاطمه کروبی"
        value: Fatemeh Karroubi
      - match: "Meng Xuenong<br />孟学农"
        value: Meng Xuenong
      - match: "Mian Yousuf Salahuddin <br /> میاں یوسف صلاح الدین"
        value: Mian Yousuf Salahuddin
      - match: "Oksana Volodymyrivna Bilozir<br>Оксана Володимирівна Білозір"
        value: Oksana Volodymyrivna Bilozir
      - match: "Suborna Mustafa<br>সুবর্ণা মুস্তাফা"
        value: Suborna Mustafa
      - match: "Swapan Dasgupta<br/>স্বপন দাশগুপ্ত"
        value: Swapan Dasgupta
      - match: "Tamara Martinović<br>Тамара Мартиновић"
        value: Tamara Martinović
      - match: "Vadim Yakovlevich Pisarev<br /> Вадим Яковлевич Писарев"
        value: Vadim Yakovlevich Pisarev
      - match: "Yarlagadda Lakshmi Prasad<br>యార్లగడ్డ లక్ష్మీప్రసాద్"
        value: Yarlagadda Lakshmi Prasad
      - match: "Yiaway Yeh<br>葉亞威"
        value: Yiaway Yeh
      - match: "Chen Yu-hui<br>陳宇慧"
        value: Chen Yu-hui
      - match: "Božo Koprivica<br>Божо Копривица"
        value: Božo Koprivica
      - match: "Jewel Aich <br> জুয়েল আইচ"
        value: Jewel Aich
      - match: "Chhatradhar Mahato<br/>ছত্রধর মাহাতো"
        value: Chhatradhar Mahato
      - match: "Mahfouz Ould al-Walid<br/>محفوظ ولد الوليد"
        value: Mahfouz Ould al-Walid
      - match: "ZHANG Yin <br> 张茵 <br> CHEUNG Yan"
        value: ZHANG Yin
      - match: "Zhang Zhixiang <br> 张志祥 <br> 張志祥"
        value: Zhang Zhixiang
      - match: "Grigoris Arnaoutoglou<br />''Γρηγόρης Αρναούτογλου''"
        value: Grigoris Arnaoutoglou
      - match: "Yosra El Lozy <Br />"
        value: Yosra El Lozy
      # Remove trailing HTML tags
      - match: "Ahmed Seada <br>"
        value: Ahmed Seada
      - match: "Hossam el-Hamalawy <br>"
        value: Hossam el-Hamalawy
      # Remove HTML entities and special markup
      - match: "Andrew «&#160;Andy&#160;» Murray Burnham"
        value: Andrew Murray Burnham
      - match: "Kakubu Alidor K&#39;Ilaka"
        value: "Kakubu Alidor K'Ilaka"
      # Remove wiki-style markup
      - match: "Muḥammad <<al->>Ġazali"
        value: Muḥammad al-Ġazali
      - match: "Ṭalāl <<al->>Ḥasan"
        value: Ṭalāl al-Ḥasan
      - match: "<<ال>>عناني، جواد أحمد"
        value: "عناني، جواد أحمد"
      # Remove HTML comments from Japanese entries
      - match: "ピイ<!-- [ ] とリンク -->"
        value: ピイ
      - match: "ピーター・クック<!-- リダイレクト先の「[ ]」は、[ ] とリンク -->"
        value: ピーター・クック
      # Remove book citations with HTML formatting (not person names)
      - match: "Aaron David Miller. <italic>Search for Security: Saudi Arabian Oil and American Foreign Policy, 1939–1949</italic>. Chapel Hill: University of North Carolina Press. 1980. Pp. xviii, 320. $19.00"
        value: null
      - match: "Sanjay Seth . Subject Lessons: The Western Education of Colonial India.<i> </i>Durham, N.C. : Duke University Press . 2007 . Pp. x, 264. Cloth $84.95, paper $23.95."
        value: null
      - match: "Nwankwo Chukwuemeka, <i>African Dependencies: A Challenge to Western Democracy</i>"
        value: null
      # Handle aka notation
      - match: "Iqbal Shahbandri <br/>aka Iqbal Bhatkal"
        value: Iqbal Shahbandri
  type.date:
    options:
      - match:
          - "8034-06-14"
          - "0011-06-04"
          - "3004-03-14"
        value: null
      - match: "1949-02-29"
        value: 1949-02
      - match: "1821-02-29"
        value: 1821-02
      - match: "1930-02-30"
        value: 1930-02
      - match: "1935-06-31"
        value: 1935-06
      - match: "1973-09-31"
        value: 1973-09
      - match: "1765-09-31"
        value: 1765-09
      - match: "2018-02-29"
        value: 2018-02
      - match: "1999-06-31"
        value: 1999-06
      - match: "2004-04-31"
        value: 2004-04
      - match: "2011-02-31"
        value: 2011-02
      - match: "1991-02-29"
        value: 1991-02
      - match: "1885-02-29"
        value: 1885-02
      - match: "2000-02-31"
        value: 2000-02
      - match: "1931-02-29"
        value: 1931 # there's a suggested but unreferenced date of 1 match on the wikidata item.
  type.gender:
    lowercase: true
    normalize: true
    options:
      - match:
          - Female
          - trans woman
          - intersex woman
          - cisgender woman
          - transfeminine
          - non-binary woman
          - female organism
          - feminine
        value: female
      - match:
          - genderfluid
          - genderqueer
          - neutrois
          - non-binary
          - travesti
          - two-spirit
          - intersex
          - eunuch
          - muxe
          - bigender
          - neutral sex
          - non-binary gender
          - hijra # third gender of South Asian cultures
          - kathoey # third gender of Thai culture
        value: other
      - match:
          - MALE
          - trans man
          - cisgender male
          - cisgender man
          - transmasculine
          - intersex man
          - male organism
          - non-binary man
        value: male
      - match:
          - transgender
          - agender
          - Curis
          - undisclosed gender
        value: null
