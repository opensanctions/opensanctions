type: external
title: Russian Unified State Register of Legal Entities (EGRUL)
entry_point: zavod.runner.enrich:enrich
full_dataset: ru_egrul
disabled: false
hidden: false
coverage:
  schedule: "daily"
  start: 2022-01-01
  end: 2022-01-01
exports:
  - statistics.json
deploy:
  # schedule: "@daily"
  disk: "50Gi"
  memory: "1500Mi"
  memory_limit: "2000Mi"
  premium: true
# load_db_uri: ${OPENSANCTIONS_DATABASE_URI}
summary: >-
  Companies database of the Russian Federation as maintained and published by
  the Federal Tax Service.
description: |
  The tax database of legal entities is probably the most detailed part of the
  companies registry (other fragments are maintained by the statistics body and
  others). The registry data must be purchased from the tax authority, but a
  full version of it has been released online by a Russian IT entrepreneur.

  This snapshot is dated 2022-01-01, in order to meet a compromise between using
  fresh data, and avoiding information loss via intra-war data removals.
url: https://egrul.itsoft.ru/
publisher:
  name: Федеральная Налоговая Служба
  description: |
    The Federal Tax Service of the Russian Federation is an authorized federal
    executive body that carries out state registration of legal entities, individuals
    as individual entrepreneurs and peasant (farm) enterprises, an authorized
    federal executive body that accredits branches, representative offices of
    foreign legal entities (with the exception of representative offices of foreign
    credit institutions)
  url: https://www.nalog.gov.ru/rn77/service/egrip2/egrip_vzayim/
  country: ru
  official: true
ci_test: false
http:
  retry_methods: [GET, POST]

inputs:
  - ann_graph_topics
  - debarment
  - ext_cy_companies
  - ext_cz_business_register
  - ext_ee_ariregister
  - ext_gb_coh_psc
  - ext_gleif
  - ext_icij_offshoreleaks
  - ext_lv_business_register
  - ext_md_companies
  - ext_ru_egrul
  - ext_ua_edr
  # - ru_rupep
  - opencorporates
  - sanctions

config:
  type: nomenklatura.enrich.yente:YenteEnricher
  api: https://api.graph.opensanctions.org/
  dataset: ru_egrul
  api_key: ${OPENSANCTIONS_GRAPH_API_KEY}
  strip_namespace: true
  fuzzy: false
  threshold: 0.7
  algorithm: regression-v1
  topics:
    - role.pep
    - role.rca
    - sanction
    - sanction.linked
    - debarment
    - asset.frozen
    - poi
    - gov.soe
  schemata:
    - Company
    - Organization
    - LegalEntity
    - Person
  cache_days: 90

lookups:
  type.address:
    lowercase: true
    options:
      - match: МОСКВА, 101000
        value: Moscow
  type.email:
    options:
      - match:
          - BUH@xn--c1adldkhfelbegn7job.xn--p1ai
          - INFO@xn-----6kcbabo7acls0bmjmq4a8j.xn--p1ai
          - 1@xn----jtbuhicc1a.xn--p1ai
        value: null
